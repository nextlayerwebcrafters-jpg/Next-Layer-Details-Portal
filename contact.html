<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Contact — Next-Layer WebCrafters</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    /* theme */
    body { font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, #000000, #0b0b0b); color: #f7ead6; }
    .card-pane {
      background: rgba(212,175,55,0.04);
      padding: 30px;
      border-radius: 12px;
      border: 1px solid rgba(212,175,55,0.08);
      box-shadow: 0 5px 18px rgba(0,0,0,0.6);
      color: #f7edd4;
      max-width: 900px;
      margin: 0 auto;
    }
    a.btn-light{ background: linear-gradient(90deg,#fff2c6,#ffd873); color: #0b0b0b; border: none; }
    h1{ color: #ffd873; }
    label{ color: #f3e9c9; }

    /* form controls */
    .form-control { background: rgba(255,255,255,0.02); color: #f7edd4; border: 1px solid rgba(255,255,255,0.03); }
    .form-control::placeholder { color: rgba(247,234,214,0.6); }

    /* layout helpers */
    .actions-row { display: flex; gap: 12px; align-items: center; }
    .actions-row .btn { white-space: nowrap; }

    /* fallback layout */
    #fallback .d-flex { gap: 12px; align-items: center; }

        /* WhatsApp Button */
    .whatsapp-btn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #25d366, #20ba5a);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      color: white;
      font-size: 28px;
      box-shadow: 0 5px 20px rgba(37, 211, 102, 0.4);
      transition: all 0.3s ease;
      z-index: 999;
      border: none;
      cursor: pointer;
    }

    .whatsapp-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 30px rgba(37, 211, 102, 0.6);
      text-decoration: none;
      color: white;
    }

    .whatsapp-btn:active {
      transform: scale(0.95);
    }

    /* Responsive adjustments */
    @media (max-width: 991.98px) {
      .card-pane { padding: 22px; }
      .actions-row { flex-wrap: wrap; }
    }

    @media (max-width: 575.98px) {
      .card-pane { padding: 16px; }
      h1 { font-size: 1.6rem; margin-bottom: 0.6rem; }
      p.lead { font-size: 0.95rem; }

      /* Make primary action full width and prominent on mobile */
      .actions-row { flex-direction: column; align-items: stretch; }
      .actions-row .btn { width: 100%; display: block; }

      /* Fallback buttons stacked */
      #fallback .d-flex { flex-direction: column; gap: 8px; }
      #fallback .btn { width: 100%; text-align: center; }

      /* Reduce input/control padding for compact layout */
      .form-control { padding: 10px 12px; font-size: 0.95rem; }
    }
  </style>
</head>
<body>
  <div class="container py-5">
    <a href="index.html" class="btn btn-light mb-4">← Back to Home</a>

    <div class="card-pane" data-aos="fade-up">
      <h1 class="fw-bold mb-3">Contact Us</h1>
      <p class="lead">Tell us about your project and we'll get back to you shortly.</p>

      <!-- changed: add id and remove action/method -->
      <form id="contactForm" class="mt-4" novalidate>
        <div class="mb-3">
          <label class="form-label">Your name</label>
          <input type="text" id="name" name="name" class="form-control" placeholder="Jane Doe" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Email</label>
          <input type="email" id="email" name="email" class="form-control" placeholder="you@example.com" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Message</label>
          <textarea id="message" name="message" class="form-control" rows="6" placeholder="Project details..." required></textarea>
        </div>

        <!-- Removed email-specific hidden fields -->

        <div class="d-flex gap-2">
          <!-- Updated: send via WhatsApp -->
          <button type="submit" id="sendBtn" class="btn btn-light">Send via WhatsApp</button>
          <a id="openWhatsApp" href="#" class="btn btn-outline-light" target="_blank" rel="noopener">Open WhatsApp</a>
        </div>

        <!-- Fallback: shown when automatic open doesn't work -->
        <div id="fallback" class="mt-3 d-none">
          <small class="text-muted">If WhatsApp didn't open, use the link below or copy the message:</small>
          <div class="mt-2 d-flex gap-2">
            <a id="fallbackLink" class="btn btn-light" target="_blank" rel="noopener">Open WhatsApp</a>
            <button id="copyBtn" type="button" class="btn btn-outline-light">Copy Message</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

  <!-- Updated: JS handler to open WhatsApp with prefilled message -->
  <script>
    AOS.init();

    (function(){
      const PHONE = '923116855502'; // target number (no +)
      const form = document.getElementById('contactForm');
      const sendBtn = document.getElementById('sendBtn');
      const openWhatsApp = document.getElementById('openWhatsApp');
      const fallback = document.getElementById('fallback');
      const fallbackLink = document.getElementById('fallbackLink');
      const copyBtn = document.getElementById('copyBtn');

      function buildMessage(name, email, message) {
        return [
          `Name: ${name}`,
          `Email: ${email}`,
          '',
          'Message:',
          message
        ].join('\n');
      }

      function buildWhatsAppLinks(text) {
        const encoded = encodeURIComponent(text);
        const uriNative = `whatsapp://send?phone=+${PHONE}&text=${encoded}`;
        const waMe = `https://wa.me/${PHONE}?text=${encoded}`;
        return { uriNative, waMe };
      }

      function showFallback(waLink) {
        fallbackLink.href = waLink;
        openWhatsApp.href = waLink;
        fallback.classList.remove('d-none');
      }

      form.addEventListener('submit', function(e){
        e.preventDefault();

        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        const message = document.getElementById('message').value.trim();

        if (!name || !email || !message) {
          alert('Please fill all fields before sending.');
          return;
        }

        const text = buildMessage(name, email, message);
        const { uriNative, waMe } = buildWhatsAppLinks(text);

        sendBtn.disabled = true;
        sendBtn.textContent = 'Opening WhatsApp...';

        // Try native URI first
        const a = document.createElement('a');
        a.href = uriNative;
        a.style.display = 'none';
        a.target = '_self';
        document.body.appendChild(a);

        try {
          a.click();
        } catch (err) {
          try { window.open(waMe, '_blank'); } catch (e) {}
        }
        document.body.removeChild(a);

        // Always set fallback to wa.me so users can open or copy
        showFallback(waMe);

        // restore button after short delay
        setTimeout(() => {
          sendBtn.disabled = false;
          sendBtn.textContent = 'Send via WhatsApp';
        }, 1200);
      });

      copyBtn.addEventListener('click', function(){
        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        const message = document.getElementById('message').value.trim();
        const text = buildMessage(name, email, message);

        if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard.writeText(text).then(() => {
            copyBtn.textContent = 'Copied';
            setTimeout(() => copyBtn.textContent = 'Copy Message', 1500);
          });
        } else {
          const ta = document.createElement('textarea');
          ta.value = text;
          document.body.appendChild(ta);
          ta.select();
          try { document.execCommand('copy'); copyBtn.textContent = 'Copied'; } catch (e) { alert('Copy failed — please copy manually.'); }
          document.body.removeChild(ta);
          setTimeout(() => copyBtn.textContent = 'Copy Message', 1500);
        }
      });

      // initialize openWhatsApp href to wa.me (in case user clicks before submit)
      openWhatsApp.href = `https://wa.me/${PHONE}`;
    })();
  </script>

  <!-- WhatsApp Button -->
  <a href="https://wa.me/923116855502?text=Hello%20Next-Layer%20WebCrafters%21%20I%20would%20like%20to%20discuss%20a%20web%20project." target="_blank" class="whatsapp-btn" title="Chat with us on WhatsApp">
<i class="fab fa-whatsapp"></i>
  </a>
</body>
</html>
